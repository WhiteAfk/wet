<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Chuy·ªÉn kho·∫£n ng√¢n h√†ng. T·∫°o m√£ QR v√† chuy·ªÉn kho·∫£n d·ªÖ d√†ng qua MB Bank.">
    <meta name="keywords" content="Chuy·ªÉn kho·∫£n, Ng√¢n h√†ng, MB Bank, QR Code">
    <meta property="og:title" content="Chuy·ªÉn kho·∫£n Ng√¢n h√†ng">
    <meta property="og:description" content="Chuy·ªÉn kho·∫£n qua MB Bank v·ªõi m√£ QR">
    <meta property="og:type" content="website">
    <link rel="canonical" href="https://wet-dev.netlify.app/bank.html">
    <link rel="stylesheet" href="css/bank.css">
    <link rel="stylesheet" href="css/animations.css">
    <title>Chuy·ªÉn kho·∫£n Ng√¢n h√†ng | wET</title>
</head>
<body>
    <!-- Copy Notification -->
    <div class="copy-notification" role="alert" aria-live="polite">
        <span>‚úÖ ƒê√£ sao ch√©p v√†o clipboard!</span>
    </div>
    
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-icon">
                üè¶
            </div>
            <h1>Chuy·ªÉn kho·∫£n ng√¢n h√†ng</h1>
            <p class="subtitle">C·∫£m ∆°n b·∫°n ƒë√£ quan t√¢m ·ªßng h·ªô. Vui l√≤ng ƒëi·ªÅn th√¥ng tin b√™n d∆∞·ªõi.</p>
        </header>
        
        <!-- Payment Grid -->
        <div class="payment-grid">
            <!-- Left Column: Info -->
            <div class="left-column">
                <!-- Bank Info Card -->
                <div class="info-card">
                    <h2>‚ÑπÔ∏è Th√¥ng tin t√†i kho·∫£n</h2>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="label">üè¶ Ng√¢n h√†ng</span>
                            <span class="value">MB Bank (Ng√¢n h√†ng Qu√¢n ƒê·ªôi)</span>
                        </div>
                        <div class="info-item">
                            <span class="label">üí≥ S·ªë t√†i kho·∫£n</span>
                            <span class="value highlight" onclick="copyToClipboard('5088882345', 's·ªë t√†i kho·∫£n')" role="button" tabindex="0" title="Nh·∫•p ƒë·ªÉ sao ch√©p">5088882345</span>
                        </div>
                        <div class="info-item">
                            <span class="label">üë§ Ch·ªß t√†i kho·∫£n</span>
                            <span class="value highlight" onclick="copyToClipboard('V√µ Anh Vƒ©nh K·ª≥', 't√™n t√†i kho·∫£n')" role="button" tabindex="0" title="Nh·∫•p ƒë·ªÉ sao ch√©p">V√µ Anh Vƒ©nh K·ª≥</span>
                        </div>
                    </div>
                </div>

                <!-- Notice Card -->
                <div class="notice-card" role="complementary">
                    <div class="notice-header">
                        <h3>üõ°Ô∏è Vui l√≤ng ki·ªÉm tra k·ªπ th√¥ng tin</h3>
                    </div>
                    <ul class="notice-list">
                        <li>
                            <span>‚úÖ T√™n ng∆∞·ªùi nh·∫≠n: <strong>V√µ Anh Vƒ©nh K·ª≥</strong></span>
                        </li>
                        <li>
                            <span>‚úÖ S·ªë t√†i kho·∫£n: <strong>5088882345</strong></span>
                        </li>
                        <li>
                            <span>‚úÖ S·ªë ti·ªÅn chuy·ªÉn kho·∫£n ph·∫£i kh·ªõp v·ªõi s·ªë ti·ªÅn ƒë√£ nh·∫≠p</span>
                        </li>
                        <li>
                            <span>‚úÖ N·ªôi dung chuy·ªÉn kho·∫£n ph·∫£i gi·ªëng nh∆∞ b·∫°n ƒë√£ ƒëi·ªÅn</span>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Right Column: Form -->
            <div class="right-column">
                <div class="form-card">
                    <h2>üì± T·∫°o m√£ QR chuy·ªÉn kho·∫£n</h2>
                    <div class="form-content">
                        <!-- Amount Input -->
                        <div class="input-group">
                            <label for="amount">üí∞ S·ªë ti·ªÅn chuy·ªÉn kho·∫£n</label>
                            <div class="input-wrapper">
                                <input type="text" id="amount" placeholder="Nh·∫≠p s·ªë ti·ªÅn (VD: 10,000 VNƒê)" autocomplete="off" inputmode="numeric">
                                <span class="input-icon">VNƒê</span>
                            </div>
                        </div>

                        <!-- Message Input -->
                        <div class="input-group">
                            <label for="addInfo">üí¨ N·ªôi dung chuy·ªÉn kho·∫£n</label>
                            <div class="input-wrapper">
                                <input type="text" id="addInfo" placeholder="Nh·∫≠p n·ªôi dung chuy·ªÉn kho·∫£n" autocomplete="off">
                            </div>
                        </div>

                        <!-- Hidden Account Name -->
                        <input type="hidden" id="accountName" value="Vo Anh Vinh Ky">
                        
                        <!-- Generate Button -->
                        <button class="btn-generate" id="generateBtn" onclick="generateQR()" type="button">
                            <span class="btn-content">
                                <span>üì± T·∫°o m√£ QR</span>
                            </span>
                        </button>

                        <!-- QR Container -->
                        <div class="qr-container">
                            <img id="qrImage" class="qr-code" alt="QR Code chuy·ªÉn kho·∫£n" oncontextmenu="return false" ondragstart="return false">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Back Link -->
        <footer class="back-link">
            <a href="donate.html" class="back-button" title="Quay l·∫°i trang Donate">
                <span>‚Üê Quay l·∫°i trang Donate</span>
            </a>
        </footer>
    </div>

    <script src="js/animations.js" defer></script>
    <script>
        // Copy to Clipboard Function
        function copyToClipboard(text, type) {
            navigator.clipboard.writeText(text).then(() => {
                const notification = document.querySelector('.copy-notification');
                notification.classList.add('show');
                notification.querySelector('span').textContent = `ƒê√£ sao ch√©p ${type} v√†o clipboard!`;
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 2000);
            }).catch(err => {
                console.error('Copy error:', err);
            });
        }

        // Generate QR Code
        function generateQR() {
            const amount = document.getElementById('amount').value.trim().replace(/[,.]/g, '');
            const addInfo = document.getElementById('addInfo').value.trim();
            const accountName = document.getElementById('accountName').value;
            const qrImage = document.getElementById('qrImage');
            const btn = document.getElementById('generateBtn');

            // Validation
            if (!amount || isNaN(amount) || amount <= 0) {
                alert('Vui l√≤ng nh·∫≠p s·ªë ti·ªÅn h·ª£p l·ªá');
                document.getElementById('amount').focus();
                return;
            }

            if (!addInfo) {
                alert('Vui l√≤ng nh·∫≠p l·ªùi nh·∫Øn c·ªßa b·∫°n');
                document.getElementById('addInfo').focus();
                return;
            }

            // Disable button
            btn.disabled = true;
            btn.style.opacity = '0.7';
            qrImage.style.opacity = '0.5';
            qrImage.style.display = 'block';

            const formattedAmount = parseInt(amount).toLocaleString('vi-VN') + ' VNƒê';

            const newImage = new Image();
            newImage.onload = function() {
                qrImage.src = this.src;
                qrImage.style.opacity = '1';
                btn.disabled = false;
                btn.style.opacity = '1';
                qrImage.style.animation = 'fadeIn 0.5s ease-out forwards';
            };
            
            newImage.onerror = function() {
                alert('C√≥ l·ªói x·∫£y ra khi t·∫°o m√£ QR. Vui l√≤ng th·ª≠ l·∫°i!');
                qrImage.style.display = 'none';
                btn.disabled = false;
                btn.style.opacity = '1';
            };
            
            newImage.src = `https://img.vietqr.io/image/MBBank-5088882345-qr_only.png?amount=${amount}&addInfo=${encodeURIComponent(addInfo)}&accountName=${encodeURIComponent(accountName)}`;
        }

        // Format Amount Input
        document.getElementById('amount').addEventListener('input', function(e) {
            let value = this.value.replace(/\D/g, '');
            if (value) {
                value = parseInt(value).toLocaleString('vi-VN');
                this.value = value;
            }
        });

        // Enter to Generate
        document.getElementById('addInfo').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                generateQR();
            }
        });

        // Copy to Clipboard on Enter for Amount
        document.getElementById('amount').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                document.getElementById('addInfo').focus();
            }
        });
    </script>
</body>
</html>
