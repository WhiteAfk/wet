<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="css/bank.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <title>Chuy·ªÉn kho·∫£n ng√¢n h√†ng | wET</title>
</head>
<body>
    <div class="copy-notification">
        <i class="fas fa-check-circle"></i>
        <span>ƒê√£ sao ch√©p v√†o clipboard!</span>
    </div>
    
    <div class="container">
        <div class="header">
            <div class="header-icon">
                <i class="fas fa-university"></i>
            </div>
            <h1>Chuy·ªÉn kho·∫£n ng√¢n h√†ng</h1>
            <p class="subtitle">C·∫£m ∆°n b·∫°n ƒë√£ quan t√¢m ·ªßng h·ªô. Vui l√≤ng ƒëi·ªÅn th√¥ng tin b√™n d∆∞·ªõi.</p>
        </div>
        
        <div class="payment-grid">
            <div class="left-column">
                <div class="info-card">
                    <h3><i class="fas fa-info-circle"></i> Th√¥ng tin t√†i kho·∫£n</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="label"><i class="fas fa-university"></i> Ng√¢n h√†ng</span>
                            <span class="value">MB Bank (Ng√¢n h√†ng Qu√¢n ƒê·ªôi)</span>
                        </div>
                        <div class="info-item">
                            <span class="label"><i class="fas fa-credit-card"></i> S·ªë t√†i kho·∫£n</span>
                            <span class="value highlight" onclick="copyToClipboard('5088882345', 's·ªë t√†i kho·∫£n')">5088882345</span>
                        </div>
                        <div class="info-item">
                            <span class="label"><i class="fas fa-user"></i> Ch·ªß t√†i kho·∫£n</span>
                            <span class="value highlight" onclick="copyToClipboard('V√µ Anh Vƒ©nh K·ª≥', 't√™n t√†i kho·∫£n')">V√µ Anh Vƒ©nh K·ª≥</span>
                        </div>
                    </div>
                </div>

                <div class="notice-card">
                    <div class="notice-header">
                        <i class="fas fa-shield-alt"></i>
                        <h4>Vui l√≤ng ki·ªÉm tra k·ªπ th√¥ng tin</h4>
                    </div>
                    <ul class="notice-list">
                        <li>
                            <i class="fas fa-check-circle"></i>
                            <span>T√™n ng∆∞·ªùi nh·∫≠n: <strong>V√µ Anh Vƒ©nh K·ª≥</strong></span>
                        </li>
                        <li>
                            <i class="fas fa-check-circle"></i>
                            <span>S·ªë t√†i kho·∫£n: <strong>5088882345</strong></span>
                        </li>
                        <li>
                            <i class="fas fa-check-circle"></i>
                            <span>S·ªë ti·ªÅn chuy·ªÉn kho·∫£n ph·∫£i kh·ªõp v·ªõi s·ªë ti·ªÅn ƒë√£ nh·∫≠p</span>
                        </li>
                        <li>
                            <i class="fas fa-check-circle"></i>
                            <span>N·ªôi dung chuy·ªÉn kho·∫£n ph·∫£i gi·ªëng nh∆∞ b·∫°n ƒë√£ ƒëi·ªÅn</span>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="right-column">
                <div class="form-card">
                    <h3><i class="fas fa-qrcode"></i> T·∫°o m√£ QR chuy·ªÉn kho·∫£n</h3>
                    <div class="form-content">
                        <div class="input-group">
                            <label><i class="fas fa-coins"></i> S·ªë ti·ªÅn chuy·ªÉn kho·∫£n</label>
                            <div class="input-wrapper">
                                <input type="text" id="amount" placeholder="Nh·∫≠p s·ªë ti·ªÅn (VD: 10,000 VNƒê)" autocomplete="off">
                                <span class="input-icon">VNƒê</span>
                            </div>
                        </div>
                        <div class="input-group">
                            <label><i class="fas fa-comment-alt"></i> N·ªôi dung chuy·ªÉn kho·∫£n</label>
                            <div class="input-wrapper">
                                <input type="text" id="addInfo" placeholder="Nh·∫≠p n·ªôi dung chuy·ªÉn kho·∫£n" autocomplete="off">
                            </div>
                        </div>
                        <input type="hidden" id="accountName" value="Vo Anh Vinh Ky">
                        
                        <button class="btn-generate" onclick="generateQR()">
                            <span class="btn-content">
                                <i class="fas fa-qrcode"></i>
                                <span>T·∫°o m√£ QR</span>
                            </span>
                        </button>

                        <div class="qr-container">
                            <div id="statusMessage" class="status-message"></div>
                            <img id="qrImage" class="qr-code" alt="QR Code">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="back-link">
            <a href="donate.html" class="back-button">
                <i class="fas fa-arrow-left"></i>
                <span>Quay l·∫°i trang Donate</span>
            </a>
        </div>

    </div>
    <script>
        function copyToClipboard(text, type) {
            navigator.clipboard.writeText(text).then(() => {
                const notification = document.querySelector('.copy-notification');
                notification.classList.add('show');
                notification.querySelector('span').textContent = `ƒê√£ sao ch√©p ${type} v√†o clipboard!`;
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 2000);
            }).catch(err => {
                console.error('Kh√¥ng th·ªÉ sao ch√©p: ', err);
            });
        }

        function showStatus(message, isError = false) {
            const statusEl = document.getElementById('statusMessage');
            statusEl.textContent = message;
            statusEl.style.color = isError ? '#e53e3e' : '#38a169';
            statusEl.style.display = 'block';
            statusEl.style.opacity = '1';
            
            if (isError) {
                setTimeout(() => {
                    statusEl.style.opacity = '0';
                    setTimeout(() => statusEl.style.display = 'none', 300);
                }, 3000);
            }
        }

        function generateQR() {
            const amount = document.getElementById('amount').value.trim().replace(/[,.]/g, '');
            const addInfo = document.getElementById('addInfo').value.trim();
            const accountName = document.getElementById('accountName').value;
            const qrImage = document.getElementById('qrImage');
            const btn = document.querySelector('.btn-generate');

            if (!amount || isNaN(amount) || amount <= 0) {
                showStatus('Vui l√≤ng nh·∫≠p s·ªë ti·ªÅn h·ª£p l·ªá', true);
                document.getElementById('amount').focus();
                return;
            }

            if (!addInfo) {
                showStatus('Vui l√≤ng nh·∫≠p l·ªùi nh·∫Øn c·ªßa b·∫°n', true);
                document.getElementById('addInfo').focus();
                return;
            }

            btn.disabled = true;
            btn.style.opacity = '0.7';
            qrImage.style.opacity = '0.5';
            qrImage.style.display = 'block';
            showStatus('ƒêang t·∫°o m√£ QR...');

            const formattedAmount = parseInt(amount).toLocaleString('vi-VN') + ' VNƒê';

            const newImage = new Image();
            newImage.onload = function() {
                qrImage.src = this.src;
                qrImage.style.opacity = '1';
                btn.disabled = false;
                btn.style.opacity = '1';
                showStatus(`
                    ‚ú® Th√¥ng tin giao d·ªãch ƒë√£ s·∫µn s√†ng
                    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                    üí∞ S·ªë ti·ªÅn: ${formattedAmount}
                    üìù N·ªôi dung: ${addInfo}
                    üë§ Ng∆∞·ªùi nh·∫≠n: ${accountName}
                    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                    üì± Qu√©t m√£ QR ƒë·ªÉ thanh to√°n
                `);
                
                qrImage.style.animation = 'fadeIn 0.5s ease-out forwards';
            };
            
            newImage.onerror = function() {
                showStatus('C√≥ l·ªói x·∫£y ra khi t·∫°o m√£ QR. Vui l√≤ng th·ª≠ l·∫°i!', true);
                qrImage.style.display = 'none';
                btn.disabled = false;
                btn.style.opacity = '1';
            };
            
            newImage.src = `https://img.vietqr.io/image/MBBank-5088882345-qr_only.png?amount=${amount}&addInfo=${encodeURIComponent(addInfo)}&accountName=${encodeURIComponent(accountName)}`;
        }

        document.getElementById('amount').addEventListener('input', function(e) {
            let value = this.value.replace(/\D/g, '');
            if (value) {
                value = parseInt(value).toLocaleString('vi-VN');
                this.value = value;
            }
        });

        document.getElementById('addInfo').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                generateQR();
            }
        });
    </script>
</body>